<header>
    <h2>Gerenciar Usuários</h2>
    <button data-tab="criar" class="ativo">Cadastrar</button>
    <button data-tab="editar">Editar</button>
</header>

<div class="criar tab" th:fragment="criar">
    <form th:action="@{/api/matricula}" method="post" th:object="${matricula}">
        <input type="text" th:field="*{nome}" placeholder="Nome completo" required />
        <input type="email" th:field="*{email}" placeholder="Email" required />
        <input type="text" th:field="*{telefone}" placeholder="Telefone" />
        
        <div class="perfil-section">
            <label>Tipo de Perfil:</label>
            <select th:field="*{tipoPerfil}" required>
                <option value="">Selecione um perfil</option>
                <option value="aluno">Aluno</option>
                <option value="professor">Professor</option>
                <option value="admin">Administrador</option>
                <option value="bibliotecario">Bibliotecário</option>
                <option value="pesquisador">Pesquisador</option>
            </select>
        </div>
        
        <button type="submit">Cadastrar Usuário</button>
    </form>
</div>

<div class="editar tab" th:fragment="editar">
    <form id="buscarMatriculaForm">
        <input type="number" id="numeroMatriculaBuscar" placeholder="Número da matrícula" required />
        <button type="submit">Buscar</button>
    </form>

    <form id="editarForm" th:action="@{/api/matricula/{numeroMatricula}(numeroMatricula=${matricula.numeroMatricula})}" method="post" style="display:none;">
        <input type="hidden" id="numeroMatricula" th:field="*{numeroMatricula}" />
        <input type="text" id="nome" th:field="*{nome}" placeholder="Novo nome" />
        <input type="email" id="email" th:field="*{email}" placeholder="Novo email" />
        <input type="text" id="telefone" th:field="*{telefone}" placeholder="Novo telefone" />
        <button type="submit">Atualizar Usuário</button>
    </form>
</div>
